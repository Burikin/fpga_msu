# README #

Добро пожаловать в репозиторий курса "Проектирование аппаратных схем ПЛИС средствами языка VHDL"

Данный курс читается на втором курсе Физического Факультета МГУ как альтернативный курс по программированию. Работа ведется на FPGA 7 серии фирмы Xilinx.

В первой части курса даются базовые знания о ПЛИС и среде проектирования Vivado, изучается язык проектирования аппаратуры VHDL. Во второй части курса изучается высокоуровневый подход к проектирования вычислительных аппаратных ядер на языке Си в среде Vivado HLS.

В данный момент ведется работа над первой частью курса.

## Программа курса
*****
### Тема 1. Введение. Схемотехника комбинационных устройств.
*История развития интегральных схем (от транзистора до ПЛИС). Классификация современных ИС по методу соединения элементов. Общая архитектура ПЛИС. Конфигурационная память и возможность реконфигурации. Обзор семейства ПЛИС фирмы Xilinx. Применение ПЛИС в современном мире. Логические элементы в логике КМОП. Тристабильные элементы. Простые комбинационные элементы.*

*****
### Тема 2. Основы VHDL для синтеза и моделирования.
*Введение в VHDL. Синтаксис и параллельная семантика. Объекты и конструкции. Типы данных. Логические и арифметические операторы языка. Синтезируемое подмножество языка VHDL и конструкции для моделирования. Создание верификационных testbenches.*

**Практика в системе Vivado:**

*   Lab2-1 - Сумматор четырех битных чисел
   *   Создание проекта Vivado через GUI интерфейс
   *   Введение в моделирование и получение реально работающей схемы
*   Lab2-2 - Моделирование сложения в обратном и дополнительных кодах

*****
### Тема 3. VHDL моделирование углубленно
*Вывод на консоль во время моделирования. Файловый ввод/вывод. Концепция самопроверяющихся testbenches.*

**Практика в системе Vivado:**

*   Lab3-1 - Код Грея
    *   Создание проекта Vivado через TCL скрипт
*   Lab3-2 - Контрольная сумма заголовка IP пакета


*****
### Тема 4. Описание комбинационных устройств на VHDL.
*«Последовательные» и «параллельные» операторы. Комбинационные логические элементы и их описание на языке VHDL. Операторы выборочного и условного назначения сигналов. Оператор процесса. Запуск процесса и список чувствительности. Операторы IF и CASE. Правила кодирования комбинационных логических устройств на VHDL.*

**Практика в системе Vivado:**

*   Lab4-1 - Коммутатор-переключатель 2-на-2
*   Lab4-2 - Комбинационный АЛУ
*   Lab4-3 - Расстояние между элементами последовательности Грея


*****
### Тема 5. Схемотехника последовательных устройств и их описание на VHDL
*Понятие триггера. Статическая и динамическая синхронизация. Сложные последовательные элементы: регистры, счетчики, сдвиговые регистры. Описание последовательных элементов на VHDL. Принцип построения синхронных схем.*

**Практика в системе Vivado:**

*   Lab5-1 - Детектор переднего фронта сигнала (моделирование)
*   Lab5-2 - Проект мигающие лампочки (в железе)
*   Lab5-3 - Инкрементация счетчика с выводом на светодиоды (в железе)
*   Lab5-4 - "Змейка" на leds с изменением частоты и направления движения (в железе)



*****
### Тема 6. Архитектура FPGA.
*Архитектура ПЛИС – углубленно. Фабрика логики. Структура конфигурационного логического блока и блоков ввода/вывода. Общие трассировочные ресурсы, трассировочные ресурсы для сигналов синхронизации, генераторы частоты, DSP блоки, блочная и  распределенная память. Конфигурационная память и способы загрузки конфигурационных данных.*

**Практика в системе Vivado:**

*   Lab6-1 - Управление частотой с помошью IP блока Clock Wisard

*****
### Тема 7. Конвейерные вычисления.
*Этапы разработки проекта ПЛИС в системе Vivado. Анализ схемы после синтеза, после имплементации. Времяные ошибки и методы борьбы. Уменьшение количества комб логики между триггерами, понижение частоты.*

**Практика в системе Vivado:**

*   Lab7-1 - Конвейерное вычисление контрольной суммы заголовка IP пакета
*   Lab7-2 - Перемножение больших чисел алгоритмом Карацубы

*****
### Тема 8. Описание конечных автоматов на VHDL.
*...*

**Практика в системе Vivado:**

*   Lab8-1 - Светофор
*   Lab8-2 - ...


*****
### Тема 9. Работа с BRAM памятью.
*Интерфейс BRAM памяти, однопортовый и двупортовый режимы работы.*

**Практика в системе Vivado:**

*   Lab9-1 - Последовательная запись/чтение в произвольном порядке, сравнение записанных и считанных массивов.
*   Lab9-2 - Реализация FIFO на одной частоте.
*   Lab9-3 - Прием перемешанных пакетных данных, сохранение в соответствии с адресом, ранняя выдача данных без пропусков и каждый такт.

*****
### Тема 10. Работа с очередями FIFO.
*Интерфес FIFO. Асинхронных режим. Режимы работы FIFO: Standard и First Word Fall Through. Интерфейс AXI Stream*


**Практика в системе Vivado:**

*   Lab10-1 - Медленная буферизация данных в FIFO и быстрая выдача по сигналу
*   Lab10-2 - Схема усреднения. В буфер поступает пакет данных. Затем поступает еще один пакет данных, который необходимо сложить с первым и записать в тот же буфер. Так необходимо повторить требуемое число раз и выдать результат в виде пакета усредненных данных.
*   Lab10-3 - Сложный пример на FIFO. Данные поступают по 4 байта на частоте 312 МГц (пакет макс длиной 1500 байт), их надо накапливать по 256 бит, и передавать через FIFO в домен 250 МГц, где они должны будут нарезаться по 128 байт и отправляться на выходной интерфейс.

*****
### Тема 11. Передача данных через UART.
*Описание протокола, реализация в ПЛИС*

**Практика в системе Vivado:**

*   Lab11-1 - Выдача на LEDS байта с терминала, передача обратно на хост инкрементированного значения

*****
### Тема 12. Отладка проекта в железе.
*Описание работы Debug Core*

**Практика в системе Vivado:**

*   Lab12-1 - Запись/чтение регистров ПЛИС через UART с помощью программы на хосте (С++/Python)

*****
### Тема 13. Самостоятельная реализация калькулятора на ПЛИС c вводом/выводом через UART.
