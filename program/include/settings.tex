\documentclass{book}
\usepackage[utf8]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage[english,russian]{babel}
\usepackage{color}
\usepackage{framed}
\usepackage{listings}

% \usepackage{graphicx}
\usepackage[pdftex]{graphicx}


% \usepackage{geometry}
%  \geometry{
%  a4paper,
%  total={170mm,257mm},
%  left=40mm,
%  top=40mm,
%  }

% \usepackage[a4paper, total={6in, 8in}]{geometry}

\lstset{
  language=VHDL,
  numbers=left,
  firstnumber=0,
  backgroundcolor=\color{gray!10},
  inputencoding=utf8,
  extendedchars=false,
  keepspaces=true,
  % extendedchars=true,
  breaklines=true,
  commentstyle=\color{green!60!black}
  % texcl=true
}

\usepackage{tikz}
\usetikzlibrary{arrows,calc}

\makeatletter
\def\lst@PlaceNumber{\ifnum\value{lstnumber}=0\else
  \llap{\normalfont\lst@numberstyle{\thelstnumber}\kern\lst@numbersep}\fi}
\makeatother

\usepackage{float}
\floatstyle{plain} % optionally change the style of the new float
\newfloat{Code}{H}{myc}


\tikzstyle{expr} = [draw, fill=yellow!20, dotted, rectangle, minimum size=2em]

\tikzstyle{process} = [draw, fill=green!20, rectangle, minimum size=2cm, text width=2cm, align=center]